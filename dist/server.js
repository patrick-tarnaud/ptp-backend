!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("mongodb")},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"photosDB",function(){return h});var i=r(2),a=r.n(i),u=r(3),o=r.n(u),s=r(0),c=r.n(s),l=r(1),p=r.n(l),f=r(4),d=function(){var e=p()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.MongoClient.connect("mongodb://localhost:27017/",{useNewUrlParser:!0});case 2:return t=e.sent,e.abrupt("return",t.db("ptpdb"));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),h=[{file:"1.jpg",title:"Vélo au carré",description:"Un vélo et un tag sur le mur dans un format carré"},{file:"2.jpg",title:"Mao",description:"Mao en noir et blanc"},{file:"3.jpg",title:"Esacliers",description:"Escalier descendant de la corniche vers la mer en noir et blanc"},{file:"4.jpg",title:"Femme assise",description:"Femme assise sur la falaise"},{file:"5.jpg",title:"Port d'Equy",description:"Le port et le phare à Erquy"},{file:"6.jpg",title:"Panoramique du Port d'Equy",description:"Le port et le phare à Erquy en format panoramique"},{file:"7.jpg",title:"Phare de Saint Hilaire",description:"Phare de Saint Hilaire de nuit à l'heure bleue"},{file:"8.jpg",title:"Moutons blancs",description:"Moutons en noir et blanc dans un champs"},{file:"9.jpg",title:"Planeurs",description:"Deux planeurs sur la faise l'été"},{file:"10.jpg",title:"Phare de nuit",description:"Phare de Saint Hilaire au format carré à l'heure bleue"},{file:"11.jpg",title:"Escalier",description:"Escalier descendant vers la mer agitée"},{file:"12.jpg",title:"Fauteuils",description:"Deux fauteuils en bords de mer selon la règle des tiers"},{file:"13.jpg",title:"Port d'Erquy de nuit",description:"Port d'Erquy de nuit"},{file:"14.jpg",title:"Manège",description:"Manège à Montmartre"},{file:"15.jpg",title:"Paris et Tour Eiffel",description:"Panoramique sur la tour Eiffel à Paris depuis le pont Alexandre III"},{file:"16.jpg",title:"Pont Alexandre III",description:"Vue sur la tour Eiffel depuis le pont Alexandre III"},{file:"17.jpg",title:"Statues d'or",description:"Statues d'or sur fond de tour Eiffel"},{file:"18.jpg",title:"Arbre et Tour Eiffel",description:""},{file:"19.jpg",title:"Tas de pierres",description:"Un tas de pierres devant des touristes en bords de mer"}],x=function(){var e=p()(c.a.mark(function e(){var t,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.next=5,t.collection("photos").find().toArray();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=p()(c.a.mark(function e(t){var r,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return r=e.sent,e.next=5,r.collection("photos").insertOne(t);case 5:return n=e.sent,e.abrupt("return",n.ops[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=p()(c.a.mark(function e(){var t,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.next=5,t.collection("photos").drop();case 5:return e.next=7,t.collection("photos").insertMany(n);case 7:return r=e.sent,e.abrupt("return",r.ops);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=p()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=p()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=p()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),j=a()();j.use(o.a.urlencoded({extended:!0})),j.use(o.a.json()),j.use("/photos",function(){var e=a.a.Router();return e.get("/",function(){var e=p()(c.a.mark(function e(t,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,g();case 3:e.t1=e.sent,e.t0.send.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()),e.post("/",function(){var e=p()(c.a.mark(function e(t,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,m(t.body);case 3:e.t1=e.sent,e.t0.send.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()),e.post("/init",function(){var e=p()(c.a.mark(function e(t,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,y();case 3:e.t1=e.sent,e.t0.send.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()),e}()),j.listen("8080","localhost",function(){console.log("Http Server listening")})}]);